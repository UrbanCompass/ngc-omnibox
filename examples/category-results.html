<!DOCTYPE html>
<html ng-app="demoApp">
  <body>
    <style media="screen">
      [aria-selected="true"] {
        font-weight: bold;
      }
    </style>
    <main ng-controller="OmniboxExampleController as demo">
      <h1>Categorized Results Omnibox Example</h1>
      <h2>Search For a Car Make by Country</h2>

      <ngc-omnibox
          ng-model="demo.model"
          placeholder="Search for a US Senator by Name or Party"
          autofocus="true"
          is-selectable="demo.isSelectable(suggestion)"
          multiple="true"
          source="demo.sourceFn(query)">

        <ngc-omnibox-field type="text"></ngc-omnibox-field>

        <ngc-omnibox-choices>
          <span>
            {{choice.person.name}}
            <button ng-click="omnibox.unchoose(choice)">&times;</button>
          </span>
        </ngc-omnibox-choices>

        <ngc-omnibox-suggestions class="collection with-header">

          <dl ngc-omnibox-suggestion-category>
            <dt>
              <h5>{{suggestion.state}}</h5>
            </dt>
            <dd>
              <ngc-omnibox-suggestion-item>
                <strong>{{suggestion.person.firstname}} {{suggestion.person.lastname}}</strong>
                <em>{{suggestion.description}} &mdash; {{suggestion.party}}</em>
              </ngc-omnibox-suggestion-item>
            </dd>
          </dl>

          <ngc-omnibox-suggestion-loading>
            Loading...
          </ngc-omnibox-suggestion-loading>

          <ngc-omnibox-suggestion-empty>
            No results...
          </ngc-omnibox-suggestion-empty>

        </ngc-omnibox-suggestions>
      </ngc-omnibox>

      <p>
        Model value:
        <pre><code style="white-space: pre-line">{{demo.model}}</code></pre>
      </p>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/2.5.0/fuse.min.js"></script>
    <script src="../dist/ngc-omnibox.js"></script>
    <script src="./category-results.js"></script>
  </body>
</html>
